(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1022:function(t,e,r){"use strict";r.r(e);var o=r(4),n=(r(35),r(177),r(48),r(23),r(123),r(1)),c=r(717),l=n.default.extend({props:{product:{type:Object,required:!0}},data:function(){return{form:{id:this.product.id,title:this.product.title,desc:this.product.desc,categoryId:void 0,collectionIds:[],path:void 0},isLoading:!1,categories:[],collections:[],rules:{title:[{required:!0,message:"Please input product name",trigger:"change"}],categoryId:[{required:!0,message:"Please select category",trigger:"change"}],path:[{required:!0,message:"Required path",trigger:"change"}]}}},computed:{displayPath:function(){return this.form.title?(this.form.path="/".concat(Object(c.f)(this.form.title).match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((function(t){return t.toLowerCase()})).join("-")),"https://napricot.com/product".concat(this.form.path)):"https://napricot.com/category/"}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$categoryService.getCategories();case 2:return t.categories=e.sent,e.next=5,t.$productService.getCollections({limit:-1});case 5:r=e.sent,o=r.collections,t.collections=o;case 8:case"end":return e.stop()}}),e)})))()},methods:{handleSubmit:function(){var t=this;this.$refs.form.validate(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return t.isLoading=!0,e.next=4,t.$productService.createCustomcatProduct(t.form);case 4:t.isLoading=!1,e.next=8;break;case 7:t.$message.error("Please input required fields");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}),d=l,f=r(916),m=r(8);var component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],class:t.$style.root},[r("h2",[t._v("Create customcat product")]),t._v(" "),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{md:12}},[r("el-image",{class:t.$style.image,attrs:{src:t.product.image,fit:"cover"}})],1),t._v(" "),r("el-col",{attrs:{md:12}},[r("el-form",{ref:"form",class:t.$style.form,attrs:{"label-position":"top",rules:t.rules,model:t.form}},[r("el-form-item",{attrs:{label:"Product Name",prop:"title"}},[r("el-input",{attrs:{placeholder:"Product name"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"Product Description",prop:"desc"}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Please input desc"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"Category",prop:"categoryId"}},[r("el-select",{class:t.$style.select,attrs:{placeholder:"Category name"},model:{value:t.form.categoryId,callback:function(e){t.$set(t.form,"categoryId",e)},expression:"form.categoryId"}},t._l(t.categories,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"Collections",prop:"collectionIds"}},[r("el-select",{class:t.$style.select,attrs:{multiple:"",placeholder:"Please select collection"},model:{value:t.form.collectionIds,callback:function(e){t.$set(t.form,"collectionIds",e)},expression:"form.collectionIds"}},t._l(t.collections,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"Product Path",prop:"path"}},[r("el-input",{attrs:{disabled:"",placeholder:"Product path"},model:{value:t.displayPath,callback:function(e){t.displayPath=e},expression:"displayPath"}})],1)],1),t._v(" "),r("div",{class:t.$style.footer},[r("el-button",{on:{click:function(e){return t.$emit("cancel")}}},[t._v("Cancel")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t._v("Create")])],1)],1)],1)],1)}),[],!1,(function(t){this.$style=f.default.locals||f.default}),null,null);e.default=component.exports},717:function(t,e,r){"use strict";r.d(e,"c",(function(){return C})),r.d(e,"a",(function(){return w})),r.d(e,"e",(function(){return x})),r.d(e,"d",(function(){return k})),r.d(e,"b",(function(){return F})),r.d(e,"f",(function(){return R}));r(73),r(9),r(99),r(23),r(80),r(65);var o,n=r(734),c=r.n(n),l=new Uint8Array(16);function d(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(l)}var f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var m=function(t){return"string"==typeof t&&f.test(t)},h=[],v=0;v<256;++v)h.push((v+256).toString(16).substr(1));var y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(h[t[e+0]]+h[t[e+1]]+h[t[e+2]]+h[t[e+3]]+"-"+h[t[e+4]]+h[t[e+5]]+"-"+h[t[e+6]]+h[t[e+7]]+"-"+h[t[e+8]]+h[t[e+9]]+"-"+h[t[e+10]]+h[t[e+11]]+h[t[e+12]]+h[t[e+13]]+h[t[e+14]]+h[t[e+15]]).toLowerCase();if(!m(r))throw TypeError("Stringified UUID is invalid");return r};var _=function(t,e,r){var o=(t=t||{}).random||(t.rng||d)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=o[i];return e}return y(o)};r(66);function C(t){if(0===t.length)return[];var e,i,r=c()(t),map={},o=[];for(i=0;i<r.length;i+=1)map[r[i].id]=i,r[i].children=[];for(i=0;i<r.length;i+=1)(e=r[i]).parentId?r[map[e.parentId]].children.push(e):o.push(e);return o}var P=[];function w(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){var o=t.find((function(t){return t.id===e}));return r||P.unshift(o),w(t,null==o?void 0:o.parentId,!1)}var n=c()(P);return P=[],n}var x=function(t){return new Promise((function(e){setTimeout(e,t)}))},$=function(data){return"string"==typeof data?data.split(","):Array.isArray(data)?data:[]},I=function(data){return"string"==typeof data?parseInt(data,10):"number"==typeof data?data:void 0},k=function(t){var filter={color:[],size:[],collection:[]};return t.priceFrom&&(filter.priceFrom=I(t.priceFrom)||void 0),t.priceTo&&(filter.priceTo=I(t.priceTo)||void 0),t.color&&(filter.color=$(t.color)),t.size&&(filter.size=$(t.size)),t.collection&&(filter.collection=$(t.collection)),filter},F=function(){return _()},R=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.toLowerCase()).replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a")).replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e")).replace(/ì|í|ị|ỉ|ĩ/g,"i")).replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o")).replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u")).replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y")).replace(/đ/g,"d")).replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"")).replace(/\u02C6|\u0306|\u031B/g,"")}},758:function(t,e,r){var content=r(917);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("dd178dce",content,!0,{sourceMap:!1})},916:function(t,e,r){"use strict";var o=r(758),n=r.n(o);r.d(e,"default",(function(){return n.a}))},917:function(t,e,r){var o=r(15)((function(i){return i[1]}));o.push([t.i,".ProductCustomcatForm__root_B4h5q h2{font-size:1.5rem;font-weight:600}.ProductCustomcatForm__root_B4h5q .ProductCustomcatForm__image_ZhAWS,.ProductCustomcatForm__root_B4h5q .ProductCustomcatForm__select_-Z91t{width:100%}.ProductCustomcatForm__root_B4h5q .ProductCustomcatForm__footer_oY6cC{margin-top:var(--space-2x);display:flex;justify-content:flex-end}",""]),o.locals={root:"ProductCustomcatForm__root_B4h5q",image:"ProductCustomcatForm__image_ZhAWS",select:"ProductCustomcatForm__select_-Z91t",footer:"ProductCustomcatForm__footer_oY6cC"},t.exports=o}}]);